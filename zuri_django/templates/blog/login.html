<!DOCTYPE html>
{% load static %}

<html lang="en" >
    <head>
        <meta charset="UTF-8">
        <title>Login</title>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">        
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA==" crossorigin="anonymous" />
        <meta name="viewport" content="width=device-width, initial-scale=1">
        
    </head>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <body class="container">

        <div class="row mt-5">
            <div class="col-md-6 mx-auto">
                <div class=" mb-5   p-6 mx-auto " >
                    <form class="text-center  needs-validation " method="post" novalidate>
                        <p class="h4 mb-4"><b>Sign in</b></p>
                        {% csrf_token %}
                        {% if messages %}
                            {% for message in messages %}
                                <div class="alert alert-danger" role="alert">
                                    {{ message }}
                                </div>
                            {% endfor %}
                        {% endif %}
                        <!-- Email -->
                        <input type="text" id="defaultLoginFormEmail" name="username" class="form-control mt-4" placeholder="Username or Email" required>
                        <div  class="invalid-feedback">
                            This field is required
                        </div>
                        <!-- Password -->
                        <input type="password" id="defaultLoginFormPassword" name="password" class="form-control mt-4" placeholder="Password" required>
                        <div  class="invalid-feedback">
                            This field is required
                        </div>
                        <div class="d-flex justify-content-around">
                            <div>
                                <!-- Forgot password -->
                                <a href="{% url 'password_reset' %}">Forgot password?</a>
                            </div>
                        </div>
                        <!-- Sign in button -->
                        <button class="btn btn-info btn-block my-4" type="submit">Sign in</button>
                        <div class="card-footer">
                            <p>Not a member?
                                <a href="{% url 'register' %}">Register</a>
                            </p>
                        </div>
                        <input type="hidden" name="next" value="{{ request.GET.next }}"/>
                    </form>
                </div>
            </div>
        </div>

    <script type="text/javascript">
    // Example starter JavaScript for disabling form submissions if there are invalid fields
    (function() {
      'use strict';
      window.addEventListener('load', function() {
        // Fetch all the forms we want to apply custom Bootstrap validation styles to
        var forms = document.getElementsByClassName('needs-validation');
        // Loop over them and prevent submission
        var validation = Array.prototype.filter.call(forms, function(form) {
          form.addEventListener('submit', function(event) {
            if (form.checkValidity() === false) {
              event.preventDefault();
              event.stopPropagation();
            }
            form.classList.add('was-validated');
          }, false);
        });
      }, false);
    })();
    </script>
    </body>


</html> 